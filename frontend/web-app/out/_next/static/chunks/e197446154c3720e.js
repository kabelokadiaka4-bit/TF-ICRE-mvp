(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75704,e=>{"use strict";var t=e.i(75118),s=e.i(89211),r=e.i(55858),a=e.i(13569);function l(e){let l,i,d,n,o,c,x,m,u,h,g,p=(0,s.c)(20);p[0]!==e?({children:l,className:i,noPadding:n,glow:o,delay:c,...d}=e,p[0]=e,p[1]=l,p[2]=i,p[3]=d,p[4]=n,p[5]=o,p[6]=c):(l=p[1],i=p[2],d=p[3],n=p[4],o=p[5],c=p[6]);let b=void 0!==n&&n,y=void 0!==o&&o,f=void 0===c?0:c;p[7]===Symbol.for("react.memo_cache_sentinel")?(x={opacity:0,y:10},m={opacity:1,y:0},p[7]=x,p[8]=m):(x=p[7],m=p[8]),p[9]!==f?(u={duration:.4,ease:"easeOut",delay:f},p[9]=f,p[10]=u):u=p[10];let v=y&&"before:absolute before:-top-20 before:-right-20 before:h-60 before:w-60 before:rounded-full before:bg-primary/5 before:blur-[80px]",j=!b&&"p-6";return p[11]!==i||p[12]!==v||p[13]!==j?(h=(0,a.default)("relative overflow-hidden rounded-3xl border border-white/5 bg-surface-variant/5 backdrop-blur-xl shadow-2xl",v,j,i),p[11]=i,p[12]=v,p[13]=j,p[14]=h):h=p[14],p[15]!==l||p[16]!==d||p[17]!==u||p[18]!==h?(g=(0,t.jsx)(r.motion.div,{initial:x,animate:m,transition:u,className:h,...d,children:l}),p[15]=l,p[16]=d,p[17]=u,p[18]=h,p[19]=g):g=p[19],g}function i(e){let r,l,i,d,n,o,c=(0,s.c)(15),{title:x,subtitle:m,action:u,className:h}=e;return c[0]!==h?(r=(0,a.default)("flex items-start justify-between mb-6",h),c[0]=h,c[1]=r):r=c[1],c[2]!==x?(l=(0,t.jsx)("h3",{className:"text-lg font-semibold text-on-surface tracking-tight",children:x}),c[2]=x,c[3]=l):l=c[3],c[4]!==m?(i=m&&(0,t.jsx)("p",{className:"text-sm text-on-surface-variant mt-1",children:m}),c[4]=m,c[5]=i):i=c[5],c[6]!==l||c[7]!==i?(d=(0,t.jsxs)("div",{children:[l,i]}),c[6]=l,c[7]=i,c[8]=d):d=c[8],c[9]!==u?(n=u&&(0,t.jsx)("div",{className:"flex-shrink-0",children:u}),c[9]=u,c[10]=n):n=c[10],c[11]!==r||c[12]!==d||c[13]!==n?(o=(0,t.jsxs)("div",{className:r,children:[d,n]}),c[11]=r,c[12]=d,c[13]=n,c[14]=o):o=c[14],o}e.s(["Card",()=>l,"CardHeader",()=>i])},11688,e=>{"use strict";let t=(0,e.i(35395).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],11688)},24933,e=>{"use strict";let t=(0,e.i(35395).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],24933)},30318,e=>{"use strict";let t=(0,e.i(35395).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],30318)},32684,e=>{"use strict";var t=e.i(75118),s=e.i(92560),r=e.i(24933),a=e.i(11688),l=e.i(30318),i=e.i(51927),d=e.i(23378),n=e.i(75704);function o(){let[e,o]=(0,s.useState)([]),[c,x]=(0,s.useState)([]),[m,u]=(0,s.useState)([]),[h,g]=(0,s.useState)(!0),[p,b]=(0,s.useState)(!1),[y,f]=(0,s.useState)(""),v=(0,i.useRouter)(),j=async(e=!1)=>{try{e?b(!0):g(!0),f("");let[t,s,r]=await Promise.all([d.GovernanceService.getAuditTrail({}),Promise.resolve([{id:"pol1",name:"NCA Affordability",status:"active",version:"1.0",code:"data.loan.dti < 0.45"},{id:"pol2",name:"POPIA Data Sovereignty",status:"active",version:"1.0",code:"data.resource.location == 'africa-south1'"}]),d.GovernanceService.getModels()]);o(t.results||[]),x(s||[]),u(r||[])}catch(e){console.error("Failed to load governance data:",e),f("Failed to load governance data. Please try again.")}finally{g(!1),b(!1)}};return((0,s.useEffect)(()=>{j()},[]),h)?(0,t.jsx)("div",{className:"flex h-full w-full items-center justify-center min-h-[400px]",children:(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"})}):(0,t.jsxs)("div",{className:"p-6 space-y-8 max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>v.back(),className:"p-2 rounded-full hover:bg-gray-100",children:(0,t.jsx)(l.ArrowLeft,{className:"w-5 h-5 text-gray-700"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Governance & Audit Console"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Manage policies, audit trails, and model registry."})]})]}),(0,t.jsxs)("button",{onClick:()=>{j(!0)},disabled:p,className:`
            flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 bg-white text-gray-700
            hover:bg-gray-50 hover:border-gray-300 transition-all duration-200
            disabled:opacity-50 disabled:cursor-not-allowed
          `,children:[(0,t.jsx)(a.RefreshCw,{className:"w-4 h-4 "}),p?"Refreshing...":"Refresh"]})]}),y&&(0,t.jsxs)("div",{className:"mb-4 p-3 bg-error/10 border border-error/20 rounded-md text-sm text-error-foreground flex items-center gap-2",children:[(0,t.jsx)(r.AlertCircle,{className:"w-4 h-4"})," ",y]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)(n.CardHeader,{title:"Audit Trail",action:(0,t.jsx)("button",{className:"px-3 py-1 text-sm bg-blue-500 text-white rounded-md",children:"View Full Log"})}),e.length>0?(0,t.jsx)("div",{className:"space-y-3",children:e.map((e,s)=>(0,t.jsxs)("div",{className:"border-l-4 border-gray-300 pl-3",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.event_type," by ",e.entity_id]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]},s))}):(0,t.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No recent audit entries."})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)(n.CardHeader,{title:"Policy Rules (Regulations-as-Code)",action:(0,t.jsx)("button",{className:"px-3 py-1 text-sm bg-green-500 text-white rounded-md",children:"Add New Rule"})}),c.length>0?(0,t.jsx)("div",{className:"space-y-4",children:c.map(e=>(0,t.jsxs)("div",{className:"border border-gray-200 rounded-md p-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsxs)("h4",{className:"font-medium text-gray-900",children:[e.name," (v",e.version,")"]}),(0,t.jsx)("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${"active"===e.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:e.status})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 font-mono bg-gray-50 p-2 rounded-md overflow-x-auto",children:e.code}),(0,t.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void alert(`Adjusting rule: ${t}`)},className:"px-3 py-1 text-xs bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Adjust Rule"}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void alert(`Approving policy change for: ${t}`)},className:"px-3 py-1 text-xs bg-green-500 text-white rounded-md hover:bg-green-600",children:"Approve Changes"})]})]},e.id))}):(0,t.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No policy rules defined."})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)(n.CardHeader,{title:"Model Registry",action:(0,t.jsx)("button",{className:"px-3 py-1 text-sm bg-purple-500 text-white rounded-md",children:"Register New Model"})}),m.length>0?(0,t.jsx)("div",{className:"space-y-3",children:m.map((e,s)=>(0,t.jsxs)("div",{className:"border-l-4 border-purple-500 pl-3",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.model_name," (ID: ",e.model_id,")"]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Owner: ",e.owner," â€¢ Status: ",e.status]})]},s))}):(0,t.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No models registered."})]})]})}e.s(["default",()=>o])}]);