(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35395,e=>{"use strict";var r=e.i(92560);let t=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},a=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:n,iconNode:c,...d},u)=>(0,r.createElement)("svg",{ref:u,...i,width:t,height:t,stroke:e,strokeWidth:o?24*Number(s)/Number(t):s,className:a("lucide",l),...!n&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(n)?n:[n]])),o=(e,i)=>{let o=(0,r.forwardRef)(({className:o,...l},n)=>(0,r.createElement)(s,{ref:n,iconNode:i,className:a(`lucide-${t(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,o),...l}));return o.displayName=t(e),o};e.s(["default",()=>o],35395)},73334,e=>{"use strict";let r=(0,e.i(35395).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>r],73334)},24933,e=>{"use strict";let r=(0,e.i(35395).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>r],24933)},62367,e=>{"use strict";let r=(0,e.i(35395).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>r],62367)},85658,e=>{"use strict";let r=(0,e.i(35395).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>r],85658)},3797,e=>{"use strict";var r=e.i(75118),t=e.i(92560),a=e.i(51927),i=e.i(55858),s=e.i(85658),o=e.i(62367),l=e.i(24933),n=e.i(73334);e.i(71823);var c=e.i(81154);function d(){let[e,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[m,f]=(0,t.useState)(!1),[p,x]=(0,t.useState)(null),g=(0,a.useRouter)();(0,t.useEffect)(()=>{let e=sessionStorage.getItem("mfaResolver");if(e)try{let r=JSON.parse(e);x(r)}catch(e){console.error("Failed to parse or rehydrate MFA resolver:",e),h("Authentication error. Please try logging in again."),g.push("/login")}else h("MFA session not found. Please try logging in again."),g.push("/login")},[g]);let y=async r=>{if(r.preventDefault(),h(""),f(!0),!p){h("MFA session expired or invalid. Please log in again."),f(!1),g.push("/login");return}try{let r=c.TotpMultiFactorGenerator.assertionForSignIn(p.hints[0].uid,e);await p.resolveSignIn(r),sessionStorage.removeItem("mfaResolver"),g.push("/org-select")}catch(e){console.error("MFA verification error:",e),"auth/invalid-verification-code"===e.code?h("Invalid verification code. Please check and try again."):"auth/missing-verification-code"===e.code?h("Please enter a verification code."):h(`MFA verification failed: ${e.message}`)}finally{f(!1)}};return(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-background p-4 relative overflow-hidden",children:(0,r.jsx)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md z-10",children:(0,r.jsxs)("div",{className:"bg-surface-variant/50 backdrop-blur-xl border border-outline/20 rounded-3xl p-8 shadow-2xl",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-on-surface mb-2",children:"Multi-Factor Authentication"}),(0,r.jsx)("p",{className:"text-on-surface-variant text-sm",children:"Please enter the verification code from your authenticator app."})]}),u&&(0,r.jsxs)(i.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-6 p-4 bg-error/10 border border-error/20 rounded-xl flex items-start gap-3",children:[(0,r.jsx)(l.AlertCircle,{className:"w-5 h-5 text-error shrink-0 mt-0.5"}),(0,r.jsx)("p",{className:"text-sm text-error-foreground",children:u})]}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-5",children:[(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Verification Code"}),(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)(s.Lock,{className:"absolute left-4 top-3.5 w-5 h-5 text-on-surface-variant/70 group-focus-within:text-primary transition-colors"}),(0,r.jsx)("input",{type:"text",value:e,onChange:e=>d(e.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl bg-surface/50 border border-outline/30 text-on-surface focus:border-primary focus:ring-1 focus:ring-primary/50 focus:outline-none transition-all placeholder:text-on-surface-variant/30",placeholder:"------",maxLength:6,required:!0})]})]}),(0,r.jsx)("button",{type:"submit",disabled:m,className:"w-full py-3.5 px-4 bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl font-semibold shadow-lg shadow-primary/20 flex items-center justify-center gap-2 transition-all active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed",children:m?(0,r.jsx)(n.Loader2,{className:"w-5 h-5 animate-spin"}):(0,r.jsxs)(r.Fragment,{children:["Verify Code",(0,r.jsx)(o.ArrowRight,{className:"w-5 h-5"})]})})]})]})})})}e.s(["default",()=>d])}]);