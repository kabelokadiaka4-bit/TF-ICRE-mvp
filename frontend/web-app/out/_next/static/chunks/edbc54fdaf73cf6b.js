(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75704,e=>{"use strict";var t=e.i(75118),a=e.i(89211),s=e.i(55858),i=e.i(13569);function r(e){let r,o,n,l,d,c,m,h,u,g,x,p=(0,a.c)(20);p[0]!==e?({children:r,className:o,noPadding:l,glow:d,delay:c,...n}=e,p[0]=e,p[1]=r,p[2]=o,p[3]=n,p[4]=l,p[5]=d,p[6]=c):(r=p[1],o=p[2],n=p[3],l=p[4],d=p[5],c=p[6]);let f=void 0!==l&&l,y=void 0!==d&&d,b=void 0===c?0:c;p[7]===Symbol.for("react.memo_cache_sentinel")?(m={opacity:0,y:10},h={opacity:1,y:0},p[7]=m,p[8]=h):(m=p[7],h=p[8]),p[9]!==b?(u={duration:.4,ease:"easeOut",delay:b},p[9]=b,p[10]=u):u=p[10];let j=y&&"before:absolute before:-top-20 before:-right-20 before:h-60 before:w-60 before:rounded-full before:bg-primary/5 before:blur-[80px]",v=!f&&"p-6";return p[11]!==o||p[12]!==j||p[13]!==v?(g=(0,i.default)("relative overflow-hidden rounded-3xl border border-white/5 bg-surface-variant/5 backdrop-blur-xl shadow-2xl",j,v,o),p[11]=o,p[12]=j,p[13]=v,p[14]=g):g=p[14],p[15]!==r||p[16]!==n||p[17]!==u||p[18]!==g?(x=(0,t.jsx)(s.motion.div,{initial:m,animate:h,transition:u,className:g,...n,children:r}),p[15]=r,p[16]=n,p[17]=u,p[18]=g,p[19]=x):x=p[19],x}function o(e){let s,r,o,n,l,d,c=(0,a.c)(15),{title:m,subtitle:h,action:u,className:g}=e;return c[0]!==g?(s=(0,i.default)("flex items-start justify-between mb-6",g),c[0]=g,c[1]=s):s=c[1],c[2]!==m?(r=(0,t.jsx)("h3",{className:"text-lg font-semibold text-on-surface tracking-tight",children:m}),c[2]=m,c[3]=r):r=c[3],c[4]!==h?(o=h&&(0,t.jsx)("p",{className:"text-sm text-on-surface-variant mt-1",children:h}),c[4]=h,c[5]=o):o=c[5],c[6]!==r||c[7]!==o?(n=(0,t.jsxs)("div",{children:[r,o]}),c[6]=r,c[7]=o,c[8]=n):n=c[8],c[9]!==u?(l=u&&(0,t.jsx)("div",{className:"flex-shrink-0",children:u}),c[9]=u,c[10]=l):l=c[10],c[11]!==s||c[12]!==n||c[13]!==l?(d=(0,t.jsxs)("div",{className:s,children:[n,l]}),c[11]=s,c[12]=n,c[13]=l,c[14]=d):d=c[14],d}e.s(["Card",()=>r,"CardHeader",()=>o])},11688,e=>{"use strict";let t=(0,e.i(35395).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],11688)},93243,e=>{"use strict";let t=(0,e.i(35395).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],93243)},30318,e=>{"use strict";let t=(0,e.i(35395).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],30318)},86740,e=>{"use strict";let t=async()=>(await new Promise(e=>setTimeout(e,800)),{totalExposure:125e6,activeAlertsCount:14,complianceRate:94.5,riskScoreAvg:72,systemHealth:"optimal",heatmaps:[{region:"East Africa",riskScore:75},{region:"West Africa",riskScore:60},{region:"Southern Africa",riskScore:88},{region:"North Africa",riskScore:45}],alerts:[{id:"al1",type:"TBML",severity:"High",message:"Suspicious invoice pricing detected in TXN-8821",timestamp:"2025-11-30T10:00:00Z"},{id:"al2",type:"Credit",severity:"Medium",message:"PD increased for SME Portfolio B",timestamp:"2025-11-29T14:30:00Z"},{id:"al3",type:"Compliance",severity:"Low",message:"Updated Sanctions List available",timestamp:"2025-11-29T09:00:00Z"}],portfolioTrends:[{date:"2025-06",value:95},{date:"2025-07",value:98},{date:"2025-08",value:102},{date:"2025-09",value:99},{date:"2025-10",value:105},{date:"2025-11",value:110}],tbmlWarnings:[{id:"tbw1",transactionId:"TXN001",reason:"Invoice mispricing (>15% variance)",score:88},{id:"tbw2",transactionId:"TXN002",reason:"Circular transaction detected",score:92}],complianceNotes:[{id:"cn1",rule:"KYC Compliance",status:"Compliant",details:"All active client documents verified"},{id:"cn2",rule:"Sanctions Check",status:"Non-Compliant",details:"Potential hit on new sanctions list (Entity: GlobaTrade)"}]}),a=async()=>(await new Promise(e=>setTimeout(e,600)),[{id:"1",action:"Approved Loan Case #LC-2024-001",timestamp:"2 hours ago",user:"You"},{id:"2",action:"System updated Risk Models (v2.1)",timestamp:"5 hours ago",user:"System"},{id:"3",action:"Flagged Transaction #TXN-998 for Review",timestamp:"1 day ago",user:"Analyst"}]),s=async()=>(await new Promise(e=>setTimeout(e,900)),{dailyPdChanges:[{date:"2025-11-28",pdChange:-.01},{date:"2025-11-29",pdChange:.005},{date:"2025-11-30",pdChange:.02}],portfolioAlerts:[{id:"pa1",type:"PD_INCREASE",message:"PD increased for Loan #L123",loanId:"L123"},{id:"pa2",type:"STATUS_CHANGE",message:"Loan #L456 status changed to delinquent",loanId:"L456"}],deterioratingAccounts:[{id:"da1",customerName:"Acme Corp",currentPD:.15,previousPD:.1},{id:"da2",customerName:"Globex Inc",currentPD:.08,previousPD:.05}],highRiskTransactions:[{id:"hrt1",transactionId:"TRX789",riskScore:85,details:"Large value transaction to high-risk country."}],cashFlowProjections:[{month:"Dec 2025",projectedInflow:12e5,projectedOutflow:8e5},{month:"Jan 2026",projectedInflow:11e5,projectedOutflow:9e5}]}),i=async()=>(await new Promise(e=>setTimeout(e,700)),[{id:"svc-scoring",name:"scoring-engine-v1",type:"Cloud Run",status:"Healthy",region:"africa-south1",lastUpdated:"2 mins ago",details:"Memory usage: 45%"},{id:"svc-gov",name:"governance-engine-v1",type:"Cloud Run",status:"Healthy",region:"africa-south1",lastUpdated:"5 mins ago",details:"Memory usage: 30%"},{id:"svc-tbml",name:"tbml-engine-beta",type:"Cloud Run",status:"Degraded",region:"africa-south1",lastUpdated:"1 min ago",details:"High latency detected"},{id:"db-main",name:"tf-icre-prod-db",type:"Cloud SQL",status:"Healthy",region:"africa-south1",lastUpdated:"Just now",details:"PostgreSQL 15, CPU: 12%"},{id:"gcs-docs",name:"tf-icre-documents",type:"Cloud Storage",status:"Healthy",region:"africa-south1",lastUpdated:"10 mins ago",details:"Standard class"},{id:"pubsub-ingest",name:"data-ingestion-topic",type:"Pub/Sub",status:"Healthy",region:"global",lastUpdated:"Live",details:"Msg rate: 50/sec"},{id:"bq-warehouse",name:"risk_analytics_dw",type:"BigQuery",status:"Healthy",region:"africa-south1",lastUpdated:"1 hour ago",details:"Daily storage: 500GB"},{id:"vertex-model",name:"credit-risk-v2",type:"Vertex AI",status:"Healthy",region:"africa-south1",lastUpdated:"2 days ago",details:"Online prediction"}]);e.s(["fetchDashboardData",0,t,"fetchInfrastructureResources",0,i,"fetchPortfolioMonitoringData",0,s,"fetchRecentActivity",0,a,"logInteraction",0,(e,t)=>{console.log(`[User Interaction] ${new Date().toISOString()}: ${e}`,t)}])},77377,e=>{"use strict";var t=e.i(75118),a=e.i(92560),s=e.i(36480),i=e.i(55917),r=e.i(93243);let o=(0,e.i(35395).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var n=e.i(11688),l=e.i(30318),d=e.i(51927),c=e.i(86740),m=e.i(75704);function h(){let[e,h]=(0,a.useState)(null),[u,g]=(0,a.useState)(!0),[x,p]=(0,a.useState)(!1),[f,y]=(0,a.useState)(""),b=(0,d.useRouter)(),j=async(e=!1)=>{try{e?p(!0):g(!0),y("");let t=await (0,c.fetchPortfolioMonitoringData)();h(t)}catch(e){console.error("Failed to fetch portfolio monitoring data:",e),y("Failed to load portfolio monitoring data. Please try again.")}finally{g(!1),p(!1)}};return((0,a.useEffect)(()=>{j()},[]),u)?(0,t.jsx)("div",{className:"flex h-full w-full items-center justify-center min-h-[400px]",children:(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"})}):(0,t.jsxs)("div",{className:"p-6 space-y-8 max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>b.back(),className:"p-2 rounded-full hover:bg-gray-100",children:(0,t.jsx)(l.ArrowLeft,{className:"w-5 h-5 text-gray-700"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Portfolio Monitoring"}),(0,t.jsx)("p",{className:"text-gray-500",children:'Overview of your "living portfolio" performance and alerts.'})]})]}),(0,t.jsxs)("button",{onClick:()=>{(0,c.logInteraction)("Refresh Portfolio Monitoring"),j(!0)},disabled:x,className:`
            flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 bg-white text-gray-700
            hover:bg-gray-50 hover:border-gray-300 transition-all duration-200
            disabled:opacity-50 disabled:cursor-not-allowed
          `,children:[(0,t.jsx)(n.RefreshCw,{className:"w-4 h-4 "}),x?"Refreshing...":"Refresh"]})]}),f&&(0,t.jsxs)("div",{className:"mb-4 p-3 bg-error/10 border border-error/20 rounded-md text-sm text-error-foreground flex items-center gap-2",children:[(0,t.jsx)(i.AlertTriangle,{className:"w-4 h-4"})," ",f]}),(0,t.jsxs)(m.Card,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Daily PD Changes"}),(0,t.jsx)(s.LineChart,{className:"w-5 h-5 text-blue-500"})]}),e?.dailyPdChanges&&e.dailyPdChanges.length>0?(0,t.jsx)("div",{className:"space-y-2",children:e.dailyPdChanges.map((e,a)=>(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{children:e.date}),(0,t.jsxs)("span",{className:`font-medium ${e.pdChange>0?"text-red-500":"text-green-500"}`,children:[e.pdChange>0&&(0,t.jsx)(r.TrendingUp,{className:"inline-block w-4 h-4 mr-1"}),e.pdChange<0&&(0,t.jsx)(o,{className:"inline-block w-4 h-4 mr-1"}),(100*e.pdChange).toFixed(2),"%"]})]},a))}):(0,t.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No daily PD changes recorded."})]}),(0,t.jsxs)(m.Card,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Portfolio Alerts"}),(0,t.jsx)(i.AlertTriangle,{className:"w-5 h-5 text-yellow-500"})]}),e?.portfolioAlerts&&e.portfolioAlerts.length>0?(0,t.jsx)("div",{className:"space-y-3",children:e.portfolioAlerts.map(e=>(0,t.jsxs)("div",{className:"border-l-4 border-yellow-500 pl-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.message}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Loan: ",e.loanId," • Type: ",e.type]})]},e.id))}):(0,t.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No new portfolio alerts."})]}),(0,t.jsxs)(m.Card,{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Deteriorating Accounts"}),e?.deterioratingAccounts&&e.deterioratingAccounts.length>0?(0,t.jsx)("div",{className:"space-y-2",children:e.deterioratingAccounts.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{children:e.customerName}),(0,t.jsxs)("span",{className:"font-medium text-red-600",children:["PD: ",(100*e.currentPD).toFixed(2),"% (was ",(100*e.previousPD).toFixed(2),"%)"]})]},e.id))}):(0,t.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No deteriorating accounts."})]}),(0,t.jsxs)(m.Card,{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"High-Risk Transactions"}),e?.highRiskTransactions&&e.highRiskTransactions.length>0?(0,t.jsx)("div",{className:"space-y-2",children:e.highRiskTransactions.map(e=>(0,t.jsxs)("div",{className:"border-l-4 border-red-700 pl-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.details}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Transaction ID: ",e.transactionId," • Risk Score: ",e.riskScore]})]},e.id))}):(0,t.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No high-risk transactions."})]}),(0,t.jsxs)(m.Card,{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cash Flow Projections"}),e?.cashFlowProjections&&e.cashFlowProjections.length>0?(0,t.jsx)("div",{className:"space-y-2",children:e.cashFlowProjections.map((e,a)=>(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{children:e.month}),(0,t.jsxs)("span",{className:"font-medium",children:["In: $",e.projectedInflow.toLocaleString()," / Out: $",e.projectedOutflow.toLocaleString()]})]},a))}):(0,t.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No cash flow projections available."})]}),(0,t.jsxs)(m.Card,{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Drill into Customer Timeline"}),(0,t.jsx)("button",{className:"px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600",children:"Trigger Re-scoring"})]})]})]})}e.s(["default",()=>h],77377)}]);