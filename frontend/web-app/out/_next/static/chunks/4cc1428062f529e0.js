(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11688,e=>{"use strict";let t=(0,e.i(35395).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],11688)},24933,e=>{"use strict";let t=(0,e.i(35395).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],24933)},73334,e=>{"use strict";let t=(0,e.i(35395).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],73334)},75704,e=>{"use strict";var t=e.i(75118),r=e.i(89211),a=e.i(55858),s=e.i(13569);function l(e){let l,i,o,d,n,c,m,x,h,u,p,y=(0,r.c)(20);y[0]!==e?({children:l,className:i,noPadding:d,glow:n,delay:c,...o}=e,y[0]=e,y[1]=l,y[2]=i,y[3]=o,y[4]=d,y[5]=n,y[6]=c):(l=y[1],i=y[2],o=y[3],d=y[4],n=y[5],c=y[6]);let f=void 0!==d&&d,g=void 0!==n&&n,b=void 0===c?0:c;y[7]===Symbol.for("react.memo_cache_sentinel")?(m={opacity:0,y:10},x={opacity:1,y:0},y[7]=m,y[8]=x):(m=y[7],x=y[8]),y[9]!==b?(h={duration:.4,ease:"easeOut",delay:b},y[9]=b,y[10]=h):h=y[10];let j=g&&"before:absolute before:-top-20 before:-right-20 before:h-60 before:w-60 before:rounded-full before:bg-primary/5 before:blur-[80px]",v=!f&&"p-6";return y[11]!==i||y[12]!==j||y[13]!==v?(u=(0,s.default)("relative overflow-hidden rounded-3xl border border-white/5 bg-surface-variant/5 backdrop-blur-xl shadow-2xl",j,v,i),y[11]=i,y[12]=j,y[13]=v,y[14]=u):u=y[14],y[15]!==l||y[16]!==o||y[17]!==h||y[18]!==u?(p=(0,t.jsx)(a.motion.div,{initial:m,animate:x,transition:h,className:u,...o,children:l}),y[15]=l,y[16]=o,y[17]=h,y[18]=u,y[19]=p):p=y[19],p}function i(e){let a,l,i,o,d,n,c=(0,r.c)(15),{title:m,subtitle:x,action:h,className:u}=e;return c[0]!==u?(a=(0,s.default)("flex items-start justify-between mb-6",u),c[0]=u,c[1]=a):a=c[1],c[2]!==m?(l=(0,t.jsx)("h3",{className:"text-lg font-semibold text-on-surface tracking-tight",children:m}),c[2]=m,c[3]=l):l=c[3],c[4]!==x?(i=x&&(0,t.jsx)("p",{className:"text-sm text-on-surface-variant mt-1",children:x}),c[4]=x,c[5]=i):i=c[5],c[6]!==l||c[7]!==i?(o=(0,t.jsxs)("div",{children:[l,i]}),c[6]=l,c[7]=i,c[8]=o):o=c[8],c[9]!==h?(d=h&&(0,t.jsx)("div",{className:"flex-shrink-0",children:h}),c[9]=h,c[10]=d):d=c[10],c[11]!==a||c[12]!==o||c[13]!==d?(n=(0,t.jsxs)("div",{className:a,children:[o,d]}),c[11]=a,c[12]=o,c[13]=d,c[14]=n):n=c[14],n}e.s(["Card",()=>l,"CardHeader",()=>i])},30318,e=>{"use strict";let t=(0,e.i(35395).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],30318)},31765,e=>{"use strict";let t=(0,e.i(35395).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],31765)},8054,e=>{"use strict";var t=e.i(75118),r=e.i(92560),a=e.i(18200),s=e.i(31765),l=e.i(11688),i=e.i(30318),o=e.i(24933),d=e.i(73334),n=e.i(51927),c=e.i(23378),m=e.i(75704);function x(){let[e,x]=(0,r.useState)("Portfolio"),[h,u]=(0,r.useState)("Last 30 Days"),[p,y]=(0,r.useState)("PDF"),[f,g]=(0,r.useState)(null),[b,j]=(0,r.useState)([]),[v,w]=(0,r.useState)(!1),[N,k]=(0,r.useState)(!1),[R,C]=(0,r.useState)(""),S=(0,n.useRouter)(),D=async(e=!1)=>{try{e&&k(!0),C("");let t=await c.ReportingService.getReports();j(t)}catch(e){console.error("Failed to fetch report history:",e),C("Failed to load report history. Please try again.")}finally{k(!1)}};(0,r.useEffect)(()=>{D()},[]);let L=async t=>{t.preventDefault(),w(!0),C("");try{let t=await c.ReportingService.generateReport({type:e,dateRange:h,format:p});g(t),alert(`Report "${e}" generated! Status: ${t.status}`),await D(!0)}catch(e){console.error("Error generating report:",e),C("Failed to generate report. Please try again.")}finally{w(!1)}};return(0,t.jsxs)("div",{className:"p-6 space-y-8 max-w-7xl mx-auto",children:[(0,t.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>S.back(),className:"p-2 rounded-full hover:bg-gray-100",children:(0,t.jsx)(i.ArrowLeft,{className:"w-5 h-5 text-gray-700"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Generate and review various reports for insights and compliance."})]})]})}),R&&(0,t.jsxs)("div",{className:"mb-4 p-3 bg-error/10 border border-error/20 rounded-md text-sm text-error-foreground flex items-center gap-2",children:[(0,t.jsx)(o.AlertCircle,{className:"w-4 h-4"})," ",R]}),(0,t.jsxs)(m.Card,{children:[(0,t.jsx)(m.CardHeader,{title:"Generate New Report"}),(0,t.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"reportType",className:"block text-sm font-medium text-gray-700",children:"Report Type"}),(0,t.jsxs)("select",{id:"reportType",value:e,onChange:e=>x(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary",children:[(0,t.jsx)("option",{children:"Portfolio"}),(0,t.jsx)("option",{children:"TBML"}),(0,t.jsx)("option",{children:"Compliance Audit"}),(0,t.jsx)("option",{children:"Basel/ECL Output"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"dateRange",className:"block text-sm font-medium text-gray-700",children:"Date Range"}),(0,t.jsxs)("select",{id:"dateRange",value:h,onChange:e=>u(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary",children:[(0,t.jsx)("option",{children:"Last 7 Days"}),(0,t.jsx)("option",{children:"Last 30 Days"}),(0,t.jsx)("option",{children:"Last Quarter"}),(0,t.jsx)("option",{children:"Last Year"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"format",className:"block text-sm font-medium text-gray-700",children:"Format"}),(0,t.jsxs)("select",{id:"format",value:p,onChange:e=>y(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary",children:[(0,t.jsx)("option",{children:"PDF"}),(0,t.jsx)("option",{children:"CSV"}),(0,t.jsx)("option",{children:"JSON"})]})]}),(0,t.jsxs)("button",{type:"submit",disabled:v,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 flex items-center justify-center",children:[v?(0,t.jsx)(d.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(a.FileText,{className:"mr-2 h-4 w-4"}),v?"Generating...":"Generate Report"]})]})]}),f&&(0,t.jsxs)(m.Card,{children:[(0,t.jsx)(m.CardHeader,{title:"Recently Generated Report"}),(0,t.jsxs)("p",{className:"text-sm text-gray-700 mb-2",children:["Report ID: ",f.reportId]}),(0,t.jsxs)("p",{className:"text-sm text-gray-700 mb-4",children:["Status: ",f.status]}),(0,t.jsxs)("a",{href:f.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:[(0,t.jsx)(s.Download,{className:"mr-2 h-4 w-4"})," Download Report"]})]}),(0,t.jsxs)(m.Card,{children:[(0,t.jsx)(m.CardHeader,{title:"Report History",action:(0,t.jsxs)("button",{onClick:()=>D(!0),disabled:N,className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 flex items-center",children:[(0,t.jsx)(l.RefreshCw,{className:`mr-2 h-4 w-4 ${N?"animate-spin":""}`})," Refresh"]})}),b.length>0?(0,t.jsx)("div",{className:"space-y-3",children:b.map(e=>(0,t.jsxs)("div",{className:"border-l-4 border-blue-500 pl-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Type: ",e.type," • Date: ",e.date," • Format: ",e.format]}),(0,t.jsx)("a",{href:e.downloadUrl,className:"text-xs text-blue-600 hover:underline",children:"Download"})]},e.id))}):(0,t.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No reports generated yet."})]})]})}e.s(["default",()=>x])}]);