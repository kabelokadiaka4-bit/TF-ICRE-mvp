(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11688,e=>{"use strict";let t=(0,e.i(35395).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],11688)},62367,e=>{"use strict";let t=(0,e.i(35395).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],62367)},93243,e=>{"use strict";let t=(0,e.i(35395).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],93243)},86740,e=>{"use strict";let t=async()=>(await new Promise(e=>setTimeout(e,800)),{totalExposure:125e6,activeAlertsCount:14,complianceRate:94.5,riskScoreAvg:72,systemHealth:"optimal",heatmaps:[{region:"East Africa",riskScore:75},{region:"West Africa",riskScore:60},{region:"Southern Africa",riskScore:88},{region:"North Africa",riskScore:45}],alerts:[{id:"al1",type:"TBML",severity:"High",message:"Suspicious invoice pricing detected in TXN-8821",timestamp:"2025-11-30T10:00:00Z"},{id:"al2",type:"Credit",severity:"Medium",message:"PD increased for SME Portfolio B",timestamp:"2025-11-29T14:30:00Z"},{id:"al3",type:"Compliance",severity:"Low",message:"Updated Sanctions List available",timestamp:"2025-11-29T09:00:00Z"}],portfolioTrends:[{date:"2025-06",value:95},{date:"2025-07",value:98},{date:"2025-08",value:102},{date:"2025-09",value:99},{date:"2025-10",value:105},{date:"2025-11",value:110}],tbmlWarnings:[{id:"tbw1",transactionId:"TXN001",reason:"Invoice mispricing (>15% variance)",score:88},{id:"tbw2",transactionId:"TXN002",reason:"Circular transaction detected",score:92}],complianceNotes:[{id:"cn1",rule:"KYC Compliance",status:"Compliant",details:"All active client documents verified"},{id:"cn2",rule:"Sanctions Check",status:"Non-Compliant",details:"Potential hit on new sanctions list (Entity: GlobaTrade)"}]}),a=async()=>(await new Promise(e=>setTimeout(e,600)),[{id:"1",action:"Approved Loan Case #LC-2024-001",timestamp:"2 hours ago",user:"You"},{id:"2",action:"System updated Risk Models (v2.1)",timestamp:"5 hours ago",user:"System"},{id:"3",action:"Flagged Transaction #TXN-998 for Review",timestamp:"1 day ago",user:"Analyst"}]),s=async()=>(await new Promise(e=>setTimeout(e,900)),{dailyPdChanges:[{date:"2025-11-28",pdChange:-.01},{date:"2025-11-29",pdChange:.005},{date:"2025-11-30",pdChange:.02}],portfolioAlerts:[{id:"pa1",type:"PD_INCREASE",message:"PD increased for Loan #L123",loanId:"L123"},{id:"pa2",type:"STATUS_CHANGE",message:"Loan #L456 status changed to delinquent",loanId:"L456"}],deterioratingAccounts:[{id:"da1",customerName:"Acme Corp",currentPD:.15,previousPD:.1},{id:"da2",customerName:"Globex Inc",currentPD:.08,previousPD:.05}],highRiskTransactions:[{id:"hrt1",transactionId:"TRX789",riskScore:85,details:"Large value transaction to high-risk country."}],cashFlowProjections:[{month:"Dec 2025",projectedInflow:12e5,projectedOutflow:8e5},{month:"Jan 2026",projectedInflow:11e5,projectedOutflow:9e5}]}),i=async()=>(await new Promise(e=>setTimeout(e,700)),[{id:"svc-scoring",name:"scoring-engine-v1",type:"Cloud Run",status:"Healthy",region:"africa-south1",lastUpdated:"2 mins ago",details:"Memory usage: 45%"},{id:"svc-gov",name:"governance-engine-v1",type:"Cloud Run",status:"Healthy",region:"africa-south1",lastUpdated:"5 mins ago",details:"Memory usage: 30%"},{id:"svc-tbml",name:"tbml-engine-beta",type:"Cloud Run",status:"Degraded",region:"africa-south1",lastUpdated:"1 min ago",details:"High latency detected"},{id:"db-main",name:"tf-icre-prod-db",type:"Cloud SQL",status:"Healthy",region:"africa-south1",lastUpdated:"Just now",details:"PostgreSQL 15, CPU: 12%"},{id:"gcs-docs",name:"tf-icre-documents",type:"Cloud Storage",status:"Healthy",region:"africa-south1",lastUpdated:"10 mins ago",details:"Standard class"},{id:"pubsub-ingest",name:"data-ingestion-topic",type:"Pub/Sub",status:"Healthy",region:"global",lastUpdated:"Live",details:"Msg rate: 50/sec"},{id:"bq-warehouse",name:"risk_analytics_dw",type:"BigQuery",status:"Healthy",region:"africa-south1",lastUpdated:"1 hour ago",details:"Daily storage: 500GB"},{id:"vertex-model",name:"credit-risk-v2",type:"Vertex AI",status:"Healthy",region:"africa-south1",lastUpdated:"2 days ago",details:"Online prediction"}]);e.s(["fetchDashboardData",0,t,"fetchInfrastructureResources",0,i,"fetchPortfolioMonitoringData",0,s,"fetchRecentActivity",0,a,"logInteraction",0,(e,t)=>{console.log(`[User Interaction] ${new Date().toISOString()}: ${e}`,t)}])},394,e=>{"use strict";let t=(0,e.i(35395).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],394)},86475,e=>{"use strict";var t=e.i(75118),a=e.i(89211),s=e.i(92560),i=e.i(51927),r=e.i(45510),o=e.i(11688),n=e.i(394),l=e.i(55917);let c=(0,e.i(35395).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var d=e.i(93243),m=e.i(62367),u=e.i(18200),h=e.i(99238),x=e.i(1643),p=e.i(86740),g=e.i(24828),f=e.i(37748),v=e.i(27757),b=e.i(4068),y=e.i(54944),j=e.i(58565),N=e.i(57448),w=e.i(64716),k=e.i(90036);function C(){let e=(0,i.useRouter)(),[a,C]=(0,s.useState)(null),[R,T]=(0,s.useState)([]),[L,D]=(0,s.useState)(!0),[P,M]=(0,s.useState)(!1),E=(0,s.useCallback)(async(e=!1)=>{try{e?M(!0):D(!0);let[t,a]=await Promise.all([(0,p.fetchDashboardData)(),(0,p.fetchRecentActivity)()]);C(t),T(a)}catch(e){console.error("Failed to load dashboard data",e)}finally{D(!1),M(!1)}},[]);return((0,s.useEffect)(()=>{E()},[E]),L)?(0,t.jsx)("div",{className:"flex h-screen w-full items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-primary border-t-transparent"}),(0,t.jsx)("p",{className:"text-on-surface-variant animate-pulse",children:"Loading Dashboard..."})]})}):(0,t.jsxs)("div",{className:"space-y-8 animate-in fade-in duration-500",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-on-surface tracking-tight",children:"Overview"}),(0,t.jsx)("p",{className:"text-on-surface-variant mt-1",children:"Real-time insights into trade finance risk, compliance, and portfolio health."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("button",{onClick:()=>{(0,p.logInteraction)("Refresh Dashboard"),E(!0)},disabled:P,className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-outline/10 bg-surface hover:bg-surface-variant/10 text-on-surface transition-all disabled:opacity-50 shadow-sm",children:[(0,t.jsx)(o.RefreshCw,{className:`w-4 h-4 ${P?"animate-spin":""}`}),P?"Refreshing...":"Refresh"]}),(0,t.jsxs)("button",{onClick:()=>e.push("/loan-case"),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-all shadow-md shadow-primary/20",children:[(0,t.jsx)(x.Plus,{className:"w-4 h-4"}),"New Loan Case"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(S,{title:"Total Exposure",value:`$${(a?.totalExposure||0)/1e6}M`,change:"+2.4%",trend:"up",icon:n.DollarSign,color:"text-blue-500",bg:"bg-blue-500/10"}),(0,t.jsx)(S,{title:"Active Alerts",value:a?.activeAlertsCount||0,change:"-3 this week",trend:"down",icon:l.AlertTriangle,color:"text-orange-500",bg:"bg-orange-500/10"}),(0,t.jsx)(S,{title:"Avg. Risk Score",value:a?.riskScoreAvg||0,change:"+1.2 pts",trend:"up",icon:r.Activity,color:"text-purple-500",bg:"bg-purple-500/10"}),(0,t.jsx)(S,{title:"Compliance Rate",value:`${a?.complianceRate||0}%`,change:"Stable",trend:"neutral",icon:c,color:"text-green-500",bg:"bg-green-500/10"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 bg-surface border border-outline/10 rounded-2xl p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-on-surface",children:"Portfolio Exposure Trend"}),(0,t.jsx)("button",{className:"text-primary text-sm font-medium hover:underline",children:"View Details"})]}),(0,t.jsx)("div",{className:"h-[300px] w-full",children:(0,t.jsx)(N.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(g.AreaChart,{data:a?.portfolioTrends||[],children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),(0,t.jsx)("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),(0,t.jsx)(y.CartesianGrid,{strokeDasharray:"3 3",vertical:!1,stroke:"#E5E7EB"}),(0,t.jsx)(v.XAxis,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#6B7280",fontSize:12},dy:10}),(0,t.jsx)(b.YAxis,{axisLine:!1,tickLine:!1,tick:{fill:"#6B7280",fontSize:12}}),(0,t.jsx)(j.Tooltip,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),(0,t.jsx)(f.Area,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorValue)"})]})})})]}),(0,t.jsxs)("div",{className:"bg-surface border border-outline/10 rounded-2xl p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-on-surface",children:"Regional Risk"}),(0,t.jsx)("button",{className:"text-primary text-sm font-medium hover:underline",children:"Map View"})]}),(0,t.jsx)("div",{className:"h-[300px] w-full",children:(0,t.jsx)(N.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(w.BarChart,{data:a?.heatmaps||[],layout:"vertical",margin:{left:0},children:[(0,t.jsx)(y.CartesianGrid,{strokeDasharray:"3 3",horizontal:!0,vertical:!1,stroke:"#E5E7EB"}),(0,t.jsx)(v.XAxis,{type:"number",hide:!0}),(0,t.jsx)(b.YAxis,{dataKey:"region",type:"category",axisLine:!1,tickLine:!1,width:100,tick:{fill:"#374151",fontSize:13,fontWeight:500}}),(0,t.jsx)(j.Tooltip,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),(0,t.jsx)(k.Bar,{dataKey:"riskScore",fill:"#ef4444",radius:[0,4,4,0],barSize:20})]})})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 bg-surface border border-outline/10 rounded-2xl p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold text-on-surface flex items-center gap-2",children:[(0,t.jsx)(l.AlertTriangle,{className:"w-5 h-5 text-orange-500"}),"Critical Attention Needed"]}),(0,t.jsxs)("span",{className:"bg-orange-100 text-orange-700 text-xs font-medium px-2.5 py-0.5 rounded-full",children:[a?.activeAlertsCount," New"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:a?.alerts&&a.alerts.length>0?a.alerts.map(e=>(0,t.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-xl bg-surface-variant/5 hover:bg-surface-variant/10 transition-colors border border-transparent hover:border-outline/10 cursor-pointer group",children:[(0,t.jsx)("div",{className:`mt-1 h-2 w-2 rounded-full shrink-0 ${"High"===e.severity?"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.5)]":"Medium"===e.severity?"bg-orange-500":"bg-blue-500"}`}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-on-surface group-hover:text-primary transition-colors",children:[e.type,": ",e.message]}),(0,t.jsx)("span",{className:"text-xs text-on-surface-variant whitespace-nowrap ml-4",children:new Date(e.timestamp).toLocaleDateString()})]}),(0,t.jsxs)("p",{className:"text-xs text-on-surface-variant mt-1 line-clamp-1",children:["Severity: ",(0,t.jsx)("span",{className:"font-medium",children:e.severity})," â€¢ ID: ",e.id]})]}),(0,t.jsx)(m.ArrowRight,{className:"w-4 h-4 text-on-surface-variant opacity-0 group-hover:opacity-100 transition-opacity"})]},e.id)):(0,t.jsxs)("div",{className:"text-center py-8 text-on-surface-variant",children:[(0,t.jsx)(c,{className:"w-12 h-12 mx-auto text-green-500/20 mb-3"}),(0,t.jsx)("p",{children:"All clear! No critical alerts."})]})})]}),(0,t.jsxs)("div",{className:"bg-surface border border-outline/10 rounded-2xl p-6 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-on-surface mb-6",children:"Recent Activity"}),(0,t.jsx)("div",{className:"relative pl-4 border-l border-outline/10 space-y-8",children:R.length>0?R.map((e,a)=>(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute -left-[21px] top-1 h-3 w-3 rounded-full border-2 border-surface bg-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-on-surface",children:e.action}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("span",{className:"text-xs text-on-surface-variant",children:e.timestamp}),(0,t.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-surface-variant/20 text-on-surface-variant font-medium",children:e.user})]})]})]},e.id)):(0,t.jsx)("p",{className:"text-sm text-on-surface-variant italic",children:"No recent activity."})}),(0,t.jsx)("button",{className:"w-full mt-6 py-2 text-sm text-primary font-medium hover:bg-primary/5 rounded-lg transition-colors",children:"View All History"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsx)(A,{label:"TBML Check",icon:h.Search,onClick:()=>e.push("/tbml-check")}),(0,t.jsx)(A,{label:"Risk Scoring",icon:r.Activity,onClick:()=>e.push("/scoring")}),(0,t.jsx)(A,{label:"Reports",icon:u.FileText,onClick:()=>e.push("/reports")}),(0,t.jsx)(A,{label:"Portfolio",icon:d.TrendingUp,onClick:()=>e.push("/portfolio-monitoring")})]})]})}function S(e){let s,i,r,o,n,l,c,d,m,u,h=(0,a.c)(24),{title:x,value:p,change:g,trend:f,icon:v,color:b,bg:y}=e;h[0]!==x?(s=(0,t.jsx)("p",{className:"text-sm font-medium text-on-surface-variant",children:x}),h[0]=x,h[1]=s):s=h[1],h[2]!==p?(i=(0,t.jsx)("h3",{className:"text-2xl font-bold text-on-surface mt-1 tracking-tight",children:p}),h[2]=p,h[3]=i):i=h[3],h[4]!==s||h[5]!==i?(r=(0,t.jsxs)("div",{children:[s,i]}),h[4]=s,h[5]=i,h[6]=r):r=h[6];let j=`p-3 rounded-xl ${y} ${b} group-hover:scale-110 transition-transform`;h[7]!==v?(o=(0,t.jsx)(v,{className:"w-5 h-5"}),h[7]=v,h[8]=o):o=h[8],h[9]!==j||h[10]!==o?(n=(0,t.jsx)("div",{className:j,children:o}),h[9]=j,h[10]=o,h[11]=n):n=h[11],h[12]!==r||h[13]!==n?(l=(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[r,n]}),h[12]=r,h[13]=n,h[14]=l):l=h[14];let N=`text-xs font-medium px-2 py-0.5 rounded-full ${"up"===f?"bg-green-100 text-green-700":"down"===f?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`;return h[15]!==g||h[16]!==N?(c=(0,t.jsx)("span",{className:N,children:g}),h[15]=g,h[16]=N,h[17]=c):c=h[17],h[18]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("span",{className:"text-xs text-on-surface-variant",children:"vs last month"}),h[18]=d):d=h[18],h[19]!==c?(m=(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[c,d]}),h[19]=c,h[20]=m):m=h[20],h[21]!==m||h[22]!==l?(u=(0,t.jsxs)("div",{className:"bg-surface p-6 rounded-2xl border border-outline/10 shadow-sm hover:shadow-md transition-shadow group",children:[l,m]}),h[21]=m,h[22]=l,h[23]=u):u=h[23],u}function A(e){let s,i,r,o=(0,a.c)(8),{label:n,icon:l,onClick:c}=e;return o[0]!==l?(s=(0,t.jsx)("div",{className:"p-3 bg-surface-variant/20 rounded-full text-on-surface-variant group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:(0,t.jsx)(l,{className:"w-6 h-6"})}),o[0]=l,o[1]=s):s=o[1],o[2]!==n?(i=(0,t.jsx)("span",{className:"font-medium text-on-surface group-hover:text-primary",children:n}),o[2]=n,o[3]=i):i=o[3],o[4]!==c||o[5]!==s||o[6]!==i?(r=(0,t.jsxs)("button",{onClick:c,className:"flex flex-col items-center justify-center gap-3 p-6 bg-surface border border-outline/10 rounded-2xl hover:border-primary/50 hover:bg-primary/5 hover:shadow-md transition-all group",children:[s,i]}),o[4]=c,o[5]=s,o[6]=i,o[7]=r):r=o[7],r}e.s(["default",()=>C],86475)}]);